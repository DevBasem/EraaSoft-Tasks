@using MovieApp.ViewModels
@model HomeIndexVM
@{
    ViewData["Title"] = "Home";
}

<!-- Hero Section with Video Background -->
<section class="hero-section hero-video">
    <!-- Video Background -->
    <div class="video-background rellax" data-rellax-speed="-4">
        <video playsinline autoplay muted loop poster="/images/hero-bg.jpg" id="hero-video">
            <source src="~/videos/hero-bg-video.mp4" type="video/mp4">
        </video>
        <div class="video-overlay"></div>
    </div>
    
    <div class="container">
        <!-- Wrap all hero content in a single rellax container to ensure unified movement -->
        <div class="hero-content-wrapper rellax" data-rellax-speed="-1">
            <div class="hero-content">
                <h1 class="text-gradient" data-aos="fade-up" data-aos-duration="1200" data-aos-delay="300">Welcome to MovieApp</h1>
                <p class="lead" data-aos="fade-up" data-aos-duration="1200" data-aos-delay="300">Discover amazing movies, explore talented actors, and dive into your favorite genres</p>
                <div class="d-flex gap-3 justify-content-center flex-wrap">
                    <a asp-area="Public" asp-controller="Movies" asp-action="Index" class="btn btn-primary-custom btn-lg" data-aos="zoom-in" data-aos-duration="800" data-aos-delay="600">
                        <i class="fas fa-film me-2"></i>Browse Movies
                    </a>
                    <a asp-area="Public" asp-controller="Categories" asp-action="Index" class="btn btn-outline-primary-custom btn-lg" data-aos="zoom-in" data-aos-duration="800" data-aos-delay="800">
                        <i class="fas fa-tags me-2"></i>Explore Categories
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Featured Movies Section -->
<section class="section-wrapper">
    <div class="container">
        <div class="section-heading" data-aos="fade-up" data-aos-duration="800">
            <h2>Now Showing</h2>
            <p class="subtitle">Check out the latest movies currently playing in cinemas</p>
        </div>

        @if (Model.FeaturedMovies.Any())
        {
            <div class="movie-grid">
                @{
                    int movieIndex = 0;
                }
                @foreach (var movie in Model.FeaturedMovies)
                {
                    <div class="movie-card" data-aos="fade-up" data-aos-duration="600" data-aos-delay="@((movieIndex * 150) % 600)">
                        <img src="@movie.PosterUrl" class="movie-poster" alt="@movie.Title">
                        <div class="movie-overlay"></div>
                        <div class="movie-info">
                            <h5 class="movie-title">@movie.Title</h5>
                            <div class="movie-meta">
                                <span><i class="fas fa-calendar-alt me-1"></i>@movie.ReleaseYear</span>
                                <span><i class="fas fa-clock me-1"></i>@movie.DurationMinutes min</span>
                            </div>
                            
                            <div class="badge badge-status-showing mb-3">@movie.CategoryName</div>
                            
                            <div class="movie-info-row">
                                <span class="movie-price">$@movie.Price</span>
                            </div>
                            
                            <div class="ticket-actions-row mt-2">
                                <div class="badge badge-status-showing">
                                    <span class="status-indicator"></span>
                                    Now Showing
                                </div>
                                <a asp-area="Public" asp-controller="Movies" asp-action="Details" asp-route-id="@movie.Id" class="btn-details">
                                    <i class="fas fa-info-circle me-1"></i>Details
                                </a>
                            </div>
                        </div>
                    </div>
                    movieIndex++;
                }
            </div>
        }
        else
        {
            <div class="empty-state" data-aos="fade-in" data-aos-duration="800">
                <i class="fas fa-film"></i>
                <h4>No movies currently showing</h4>
                <p>Check back later for new releases!</p>
            </div>
        }

        <div class="text-center mt-4" data-aos="fade-up" data-aos-duration="600" data-aos-delay="400">
            <a asp-area="Public" asp-controller="Movies" asp-action="Index" class="btn btn-outline-primary-custom">
                <i class="fas fa-arrow-right me-2"></i>View All Movies
            </a>
        </div>
    </div>
</section>

<!-- Quick Stats Section -->
<section class="section-wrapper">
    <div class="container">
        <div class="row text-center">
            <div class="col-md-3 mb-4" data-aos="flip-up" data-aos-duration="800" data-aos-delay="100">
                <div class="card h-100">
                    <div class="card-body">
                        <i class="fas fa-film fa-3x text-primary-custom mb-3"></i>
                        <h3 class="text-primary-custom">@Model.TotalMovies</h3>
                        <p class="mb-0">Movies Available</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3 mb-4" data-aos="flip-up" data-aos-duration="800" data-aos-delay="200">
                <div class="card h-100">
                    <div class="card-body">
                        <i class="fas fa-users fa-3x text-primary-custom mb-3"></i>
                        <h3 class="text-primary-custom">@Model.TotalActors</h3>
                        <p class="mb-0">Talented Actors</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3 mb-4" data-aos="flip-up" data-aos-duration="800" data-aos-delay="300">
                <div class="card h-100">
                    <div class="card-body">
                        <i class="fas fa-tags fa-3x text-primary-custom mb-3"></i>
                        <h3 class="text-primary-custom">@Model.TotalCategories</h3>
                        <p class="mb-0">Categories</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3 mb-4" data-aos="flip-up" data-aos-duration="800" data-aos-delay="400">
                <div class="card h-100">
                    <div class="card-body">
                        <i class="fas fa-building fa-3x text-primary-custom mb-3"></i>
                        <h3 class="text-primary-custom">@Model.TotalCinemas</h3>
                        <p class="mb-0">Cinema Locations</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Call to Action Section -->
<section class="section-wrapper">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-8" data-aos="slide-right" data-aos-duration="800">
                <h3 class="mb-3">Ready to explore our movie collection?</h3>
                <p class="lead mb-0">Discover new movies, learn about your favorite actors, and find films by genre.</p>
            </div>
            <div class="col-lg-4 text-lg-end" data-aos="slide-left" data-aos-duration="800" data-aos-delay="200">
                <a asp-area="Public" asp-controller="Movies" asp-action="Index" class="btn btn-primary-custom btn-lg">
                    <i class="fas fa-play me-2"></i>Start Exploring
                </a>
            </div>
        </div>
    </div>
</section>

@section Scripts {
    <script>
        // Initialize Rellax for parallax elements
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Rellax) {
                var rellax = new Rellax('.rellax', {
                    speed: -2,
                    center: true,
                    round: true,
                    vertical: true,
                    horizontal: false
                });
            }
        });
    </script>
}